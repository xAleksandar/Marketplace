{"ast":null,"code":"var _jsxFileName = \"/home/alex/Documents/gitest/Marketplace/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Navigation from './Navbar';\nimport Home from './Home.js';\nimport Create from './Create.js';\nimport MyListedItems from './MyListedItems.js';\nimport MintNFT from './MintNFT.js';\nimport MyItems from './MyItems.js';\nimport MarketplaceAbi from './contractsData/Marketplace.json';\nimport MarketplaceAddress from './contractsData/Marketplace-address.json';\nimport NFTFactoryAbi from './contractsData/NFTFactory.json';\nimport NFTFactoryAddress from './contractsData/NFTFactory-address.json';\nimport NFTAbi from './contractsData/NFT.json';\nimport { useState } from 'react';\nimport { ethers } from \"ethers\";\nimport { Spinner } from 'react-bootstrap';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [account, setAccount] = useState(null);\n  const [signer, setSigner] = useState(undefined);\n  const [nftfactory, setNFTFactory] = useState({});\n  const [marketplace, setMarketplace] = useState({}); // MetaMask Login/Connect\n\n  const web3Handler = async () => {\n    const accounts = await window.ethereum.request({\n      method: 'eth_requestAccounts'\n    });\n    setAccount(accounts[0]); // Get provider from Metamask\n\n    const provider = new ethers.providers.Web3Provider(window.ethereum); // Set signer\n\n    const signer = provider.getSigner();\n    setSigner(signer);\n    window.ethereum.on('chainChanged', chainId => {\n      window.location.reload();\n    });\n    window.ethereum.on('accountsChanged', async function (accounts) {\n      setAccount(accounts[0]);\n      await web3Handler();\n    });\n    loadContracts(signer);\n  };\n\n  const loadContracts = async signer => {\n    // Get deployed copies of contracts\n    const marketplace = new ethers.Contract(MarketplaceAddress.address, MarketplaceAbi.abi, signer);\n    setMarketplace(marketplace);\n    const nft = new ethers.Contract(NFTFactoryAddress.address, NFTFactoryAbi.abi, signer);\n    setNFTFactory(nft);\n    setLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Navigation, {\n          web3Handler: web3Handler,\n          account: account\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            minHeight: '80vh'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            style: {\n              display: 'flex'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mx-3 my-0\",\n            children: \"Awaiting Metamask Connection...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {\n              marketplace: marketplace,\n              account: account,\n              NFTAbi: NFTAbi,\n              signer: signer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/create\",\n            element: /*#__PURE__*/_jsxDEV(Create, {\n              marketplace: marketplace\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/MintNFT\",\n            element: /*#__PURE__*/_jsxDEV(MintNFT, {\n              marketplace: marketplace,\n              account: account,\n              NFTAbi: NFTAbi,\n              signer: signer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/my-listed-items\",\n            element: /*#__PURE__*/_jsxDEV(MyListedItems, {\n              marketplace: marketplace,\n              account: account,\n              NFTAbi: NFTAbi,\n              signer: signer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/my-items\",\n            element: /*#__PURE__*/_jsxDEV(MyItems, {\n              marketplace: marketplace,\n              account: account,\n              NFTAbi: NFTAbi,\n              signer: signer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"IZKtsoCTs27BDOo79jOssxnIFDg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/alex/Documents/gitest/Marketplace/src/App.js"],"names":["BrowserRouter","Routes","Route","Navigation","Home","Create","MyListedItems","MintNFT","MyItems","MarketplaceAbi","MarketplaceAddress","NFTFactoryAbi","NFTFactoryAddress","NFTAbi","useState","ethers","Spinner","App","loading","setLoading","account","setAccount","signer","setSigner","undefined","nftfactory","setNFTFactory","marketplace","setMarketplace","web3Handler","accounts","window","ethereum","request","method","provider","providers","Web3Provider","getSigner","on","chainId","location","reload","loadContracts","Contract","address","abi","nft","display","justifyContent","alignItems","minHeight"],"mappings":"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","sourcesContent":["import {\n  BrowserRouter,\n  Routes,\n  Route\n} from \"react-router-dom\";\nimport Navigation from './Navbar';\nimport Home from './Home.js'\nimport Create from './Create.js'\nimport MyListedItems from './MyListedItems.js'\nimport MintNFT from './MintNFT.js'\nimport MyItems from './MyItems.js'\nimport MarketplaceAbi from  './contractsData/Marketplace.json'\nimport MarketplaceAddress from './contractsData/Marketplace-address.json'\nimport NFTFactoryAbi from './contractsData/NFTFactory.json'\nimport NFTFactoryAddress from './contractsData/NFTFactory-address.json'\nimport NFTAbi from './contractsData/NFT.json'\nimport { useState } from 'react'\nimport { ethers } from \"ethers\"\nimport { Spinner } from 'react-bootstrap'\n\nimport './App.css';\n\nfunction App() {\n  const [loading, setLoading] = useState(true)\n  const [account, setAccount] = useState(null)\n  const [signer, setSigner] = useState(undefined);\n  const [nftfactory, setNFTFactory] = useState({})\n  const [marketplace, setMarketplace] = useState({})\n  // MetaMask Login/Connect\n  const web3Handler = async () => {\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    setAccount(accounts[0])\n    // Get provider from Metamask\n    const provider = new ethers.providers.Web3Provider(window.ethereum)\n    // Set signer\n    const signer = provider.getSigner()\n    setSigner(signer)\n\n    window.ethereum.on('chainChanged', (chainId) => {\n      window.location.reload();\n    })\n\n    window.ethereum.on('accountsChanged', async function (accounts) {\n      setAccount(accounts[0])\n      await web3Handler()\n        })\n    loadContracts(signer)\n  }\n  const loadContracts = async (signer) => {\n    // Get deployed copies of contracts\n    const marketplace = new ethers.Contract(MarketplaceAddress.address, MarketplaceAbi.abi, signer)\n    setMarketplace(marketplace)\n    const nft = new ethers.Contract(NFTFactoryAddress.address, NFTFactoryAbi.abi, signer)\n    setNFTFactory(nft)\n    setLoading(false)\n  }\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <>\n          <Navigation web3Handler={web3Handler} account={account} />\n        </>\n        <div>\n          {loading ? (\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '80vh' }}>\n              <Spinner animation=\"border\" style={{ display: 'flex' }} />\n              <p className='mx-3 my-0'>Awaiting Metamask Connection...</p>\n            </div>\n          ) : (\n            <Routes>\n              <Route path=\"/\"  element={<Home marketplace={marketplace} account={account} NFTAbi={NFTAbi} signer={signer} />} />\n              <Route path=\"/create\" element={<Create marketplace={marketplace} />}/>\n              <Route path=\"/MintNFT\" element={<MintNFT marketplace={marketplace} account={account} NFTAbi={NFTAbi} signer={signer}/>}/>\n              <Route path=\"/my-listed-items\" element={<MyListedItems marketplace={marketplace} account={account} NFTAbi={NFTAbi} signer={signer} />} />\n              <Route path=\"/my-items\" element={<MyItems marketplace={marketplace} account={account} NFTAbi={NFTAbi} signer={signer} />} />\n            </Routes>\n          )}\n        </div>\n      </div>\n    </BrowserRouter>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}